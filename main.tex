%% PREAMBLE %%
\documentclass[10pt, oneside]{book}
\usepackage{lipsum}
\usepackage{lmodern}
\usepackage[a4paper, margin=1.25in]{geometry}
\usepackage[]{fancyhdr}
\usepackage[]{titlesec}
\usepackage[dvipsnames]{xcolor}
\usepackage[]{hyperref}
\usepackage{needspace}


%%---------------------- BASIC DOCUMENT DETAILS ------------------%%
% These details are easiest hard-coded
\author{Anirudh Krishnan}
\title{Daily Journal 2023}
\date{\today}

%%-------------- FINE CONTROL OVER DOCUMENT DIMENSIONS------------ %%
\setlength{\headsep}{54pt}
\setlength{\textheight}{620pt}
\setlength{\parskip}{1em}

%%------------ CHAPTER, SECTION, SUBSECTION FOMRATTING -----------%%

% dont show chapter n or section numbering in front og chapter or section names
\setcounter{secnumdepth}{-1}

% dont show any subdivisions below chapters in TOC
\setcounter{tocdepth}{0}

% Chapter formatting
\titleformat{\chapter}[block]{\normalfont\Huge\sffamily\color{MidnightBlue}}{\thechapter}{}{}

% Section in left margin with given formatting and spacing
\titleformat{\section}[leftmargin]{\vspace{2em}\sffamily\bfseries\filleft}{\thesection}{0em}{\textcolor{Brown}}
\titlespacing{\section}{20pc}{1.5ex plus .1ex minus .2ex}{1pc}

% Subsection in right margin with given formatting and spacing
\titleformat{\subsection}[rightmargin]{\vspace{2em}\sffamily\bfseries\filright}{\thesubsection}{0em}{\textcolor{OliveGreen}}
\titlespacing{\subsection}{20pc}{1.5ex plus .1ex minus .2ex}{1pc}


%%------------------------- MAIN DOCUMENT ------------------------%%

\begin{document}

\frontmatter
\begin{titlepage}
    \input{./custom_titlepage_auto.tex}
\end{titlepage}

% TOC entries line spacing reduced
\renewcommand{\baselinestretch}{0.25}\normalsize
\tableofcontents
\renewcommand{\baselinestretch}{1.0}\normalsize


\mainmatter

%%---------------- HEADER AND FOOTER FORMATTING ------------------%%

% Set the pagestyle for plain pages which are on chapter start and fancy pages used everywhere else
% Once again the author and document title are hard-coded here for convenience. Defining and using variables 
% like in a programming language is too finicky
\fancypagestyle{plain}{\fancyhf{}\renewcommand{\headrulewidth}{0pt}\renewcommand{\footrulewidth}{0pt}}
\fancypagestyle{fancy}{\fancyhead[R]{Anirudh Krishnan}\fancyhead[L]{Journal 2023}\fancyfoot[]{}\renewcommand{\headrulewidth}{0pt}\renewcommand{\footrulewidth}{0pt}}
\pagestyle{fancy}



%%--------------------- CONTENT SECTION --------------------------%%

% Control for now is at the month level
% For finer control, look at './Diary_{year}/{Month_name}/full_summary.tex' which contains the 
% day wise text entries for work and leisure subsections
% Uncomment the line corresponding to which kind of daily entries should be
% consolidated to create the yearly journal

\input{./combined_journal}
% \input{./work_journal}
% \input{./leisure_journal}

\end{document}